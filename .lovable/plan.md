
## خطة تفعيل البروكسي الخارجي

### المشكلة المُشخَّصة
| العنصر | الحالة |
|--------|--------|
| الـ Secret `VITE_SUPABASE_PROXY_URL` | ✅ موجود في المشروع |
| البروكسي المُستخدم حالياً | ❌ Edge Function (داخلي) |
| السبب | البناء الحالي لم يلتقط الـ Secret |

### الحل
إجراء تغيير بسيط لتحفيز **إعادة بناء** التطبيق.

### التغيير المطلوب

**الملف**: `src/lib/proxyConfig.ts`

```typescript
// إضافة تعليق لتحفيز Rebuild
// Build trigger: 2026-01-29 - External Cloudflare Worker activation
```

### النتيجة المتوقعة

بعد البناء الجديد:
1. سجل المتصفح سيُظهر:
   - `[Proxy] ✅ Installed with EXTERNAL proxy (Cloudflare Worker)`
   - `[Proxy] Routing via: https://plain-bonus-b3f7.mn3766687.workers.dev`

2. لوحة فحص الاتصال في `/auth` ستعرض:
   - **"متصل عبر البروكسي"**

3. طلبات التسجيل/الدخول ستذهب إلى `*.workers.dev` بدلاً من `*.supabase.co` المحجوب

### التحقق بعد التطبيق
- افتح `/auth`
- اضغط زر **"اختبار"**
- يجب أن ترى: **"متصل عبر البروكسي"**
- جرب تسجيل الدخول - يجب أن يعمل الآن من شبكتك
